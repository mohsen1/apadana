FROM base-image

# Expose ports for Next.js, Storybook, and Prisma Studio
EXPOSE 3000 6006 5555

# Use a shell script as entrypoint to handle dependency updates
COPY docker-entrypoint.dev.sh /usr/local/bin/
RUN chmod +x /usr/local/bin/docker-entrypoint.dev.sh

ENTRYPOINT ["docker-entrypoint.dev.sh"]
CMD ["pnpm", "run", "dev"]